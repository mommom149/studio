rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Allow unauthenticated users to upload files to the 'cases' directory.
    // This is necessary for the public case submission form.
    // The path `cases/{caseId}/{allPaths=**}` allows writing to any file
    // within a specific case's folder.
    match /cases/{caseId}/{allPaths=**} {
      allow read, write: if true;
    }
  }
}
